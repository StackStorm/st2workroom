#!/usr/bin/env bash

## Logging
silence-info-messages() {
    if variable-set $ST2_SILENCE_INFO; then true; else false; fi
}

logger() { echo "[{1:?}] ${2:?}" }
info() { if ! silence-info-messages; then logger 'info' "${1:?}"; fi }
log() { logger 'log' "${1:?}" }
debug() { if debug-enabled; then logger "debug" "${1:?}" }
fail-loudly() {
    log "*******************************************************"
    log "${1:?}"
    log "*******************************************************"
    exit 1
}

log-file() {
    local _log_file=/var/log/puppet.log
    if variable-set $LOG_FILE; then echo $LOG_FILE; else echo $_log_file
}

debug-enabled() {
    if variable-set $DEBUG; then true; else false; fi
}
